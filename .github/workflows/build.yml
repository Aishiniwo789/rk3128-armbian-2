name: Build Armbian for RK3128

on:
  workflow_dispatch:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-22.04

    steps:
      - name: Checkout Armbian build repository
        uses: actions/checkout@v4
        with:
          repository: armbian/build
          path: armbian-build

      - name: Checkout userpatches (current repository)
        uses: actions/checkout@v4
        with:
          path: armbian-build/userpatches

      - name: Fix nested structure and provide ALL required configs
        working-directory: armbian-build
        run: |
          set -e
          echo "===== 1. Fixing possible nested userpatches ====="
          if [ -d "userpatches/userpatches" ]; then
            echo "Fixing nested userpatches..."
            mv userpatches/userpatches/* userpatches/ 2>/dev/null || true
            mv userpatches/userpatches/.[!.]* userpatches/ 2>/dev/null || true
            rmdir userpatches/userpatches 2>/dev/null || true
          fi
          echo ""

          echo "===== 2. Creating board config ====="
          mkdir -p userpatches/boards
          cat > userpatches/boards/rk3128-box.conf << 'EOF'
          BOARD_NAME="RK3128 box"
          BOARDFAMILY="rk3128"
          ARCH="armhf"
          BRANCH="legacy"
          KERNEL_TARGET="legacy"
          EOF
          echo "✅ Board config created:"
          cat userpatches/boards/rk3128-box.conf
          echo ""

          echo "===== 3. Creating minimal family config ====="
          mkdir -p userpatches/config/sources/families
          cat > userpatches/config/sources/families/rk3128.conf << 'EOF'
          # Rockchip RK3128 family configuration - minimal
          
          # Explicitly set kernel version for legacy branch (required)
          KERNEL_MAJOR_MINOR="4.4"
          
          # Family tweaks function (required)
          family_tweaks() {
            : # No tweaks needed for basic functionality
          }
          EOF
          echo "✅ Family config created:"
          cat userpatches/config/sources/families/rk3128.conf
          echo ""

          echo "===== 4. Creating COMPLETE kernel config that excludes BTRFS ====="
          mkdir -p userpatches/config/kernel
          # 创建一个完整的linux-rk3128-legacy.config文件，它将完全覆盖默认配置
          cat > userpatches/config/kernel/linux-rk3128-legacy.config << 'EOF'
          #
          # Automatically generated file; DO NOT EDIT.
          # Linux/arm 4.4.194 Kernel Configuration
          #
          CONFIG_ARM=y
          CONFIG_ARM_HAS_SG_CHAIN=y
          CONFIG_MIGHT_HAVE_PCI=y
          CONFIG_SYS_SUPPORTS_APM_EMULATION=y
          CONFIG_HAVE_PROC_CPU=y
          CONFIG_STACKTRACE_SUPPORT=y
          CONFIG_LOCKDEP_SUPPORT=y
          CONFIG_TRACE_IRQFLAGS_SUPPORT=y
          CONFIG_RWSEM_XCHGADD_ALGORITHM=y
          CONFIG_ARCH_HAS_BANDGAP=y
          CONFIG_GENERIC_HWEIGHT=y
          CONFIG_GENERIC_CALIBRATE_DELAY=y
          CONFIG_NEED_DMA_MAP_STATE=y
          CONFIG_ARCH_SUPPORTS_UPROBES=y
          CONFIG_VECTORS_BASE=0xffff0000
          CONFIG_ARM_PATCH_PHYS_VIRT=y
          CONFIG_GENERIC_BUG=y
          CONFIG_DEFCONFIG_LIST="/lib/modules/$UNAME_RELEASE/.config"
          CONFIG_IRQ_WORK=y
          CONFIG_BUILDTIME_EXTABLE_SORT=y
          
          #
          # General setup
          #
          CONFIG_INIT_ENV_ARG_LIMIT=32
          CONFIG_CROSS_COMPILE=""
          # CONFIG_COMPILE_TEST is not set
          CONFIG_LOCALVERSION=""
          CONFIG_LOCALVERSION_AUTO=y
          CONFIG_DEFAULT_HOSTNAME="(none)"
          CONFIG_SWAP=y
          CONFIG_SYSVIPC=y
          CONFIG_SYSVIPC_SYSCTL=y
          CONFIG_POSIX_MQUEUE=y
          CONFIG_POSIX_MQUEUE_SYSCTL=y
          CONFIG_CROSS_MEMORY_ATTACH=y
          CONFIG_FHANDLE=y
          # CONFIG_USELIB is not set
          CONFIG_AUDIT=y
          CONFIG_HAVE_ARCH_AUDITSYSCALL=y
          
          #
          # IRQ subsystem
          #
          CONFIG_GENERIC_IRQ_PROBE=y
          CONFIG_GENERIC_IRQ_SHOW=y
          CONFIG_GENERIC_IRQ_SHOW_LEVEL=y
          CONFIG_HARDIRQS_SW_RESEND=y
          CONFIG_GENERIC_IRQ_CHIP=y
          CONFIG_IRQ_DOMAIN=y
          CONFIG_IRQ_DOMAIN_HIERARCHY=y
          CONFIG_HANDLE_DOMAIN_IRQ=y
          # CONFIG_IRQ_DOMAIN_DEBUG is not set
          CONFIG_ARCH_CLOCKSOURCE_DATA=y
          CONFIG_GENERIC_TIME_VSYSCALL=y
          CONFIG_GENERIC_CLOCKEVENTS=y
          CONFIG_ARCH_HAS_TICK_BROADCAST=y
          CONFIG_GENERIC_CLOCKEVENTS_BROADCAST=y
          
          #
          # Timers subsystem
          #
          CONFIG_TICK_ONESHOT=y
          CONFIG_NO_HZ_COMMON=y
          # CONFIG_HZ_PERIODIC is not set
          CONFIG_NO_HZ_IDLE=y
          # CONFIG_NO_HZ_FULL is not set
          # CONFIG_NO_HZ is not set
          CONFIG_HIGH_RES_TIMERS=y
          
          #
          # CPU/Task time and stats accounting
          #
          CONFIG_TICK_CPU_ACCOUNTING=y
          # CONFIG_VIRT_CPU_ACCOUNTING_GEN is not set
          # CONFIG_IRQ_TIME_ACCOUNTING is not set
          CONFIG_BSD_PROCESS_ACCT=y
          CONFIG_BSD_PROCESS_ACCT_V3=y
          CONFIG_TASKSTATS=y
          CONFIG_TASK_DELAY_ACCT=y
          CONFIG_TASK_XACCT=y
          CONFIG_TASK_IO_ACCOUNTING=y
          
          #
          # RCU Subsystem
          #
          CONFIG_TREE_RCU=y
          # CONFIG_RCU_EXPERT is not set
          CONFIG_SRCU=y
          # CONFIG_TASKS_RCU is not set
          CONFIG_RCU_STALL_COMMON=y
          # CONFIG_RCU_USER_QS is not set
          CONFIG_RCU_FANOUT=32
          CONFIG_RCU_FANOUT_LEAF=16
          # CONFIG_RCU_FANOUT_EXACT is not set
          # CONFIG_RCU_FAST_NO_HZ is not set
          # CONFIG_TREE_RCU_TRACE is not set
          # CONFIG_RCU_NOCB_CPU is not set
          CONFIG_BUILD_BIN2C=y
          # CONFIG_IKCONFIG is not set
          CONFIG_LOG_BUF_SHIFT=18
          CONFIG_LOG_CPU_MAX_BUF_SHIFT=12
          CONFIG_GENERIC_SCHED_CLOCK=y
          CONFIG_ARCH_SUPPORTS_NUMA_BALANCING=y
          CONFIG_CGROUPS=y
          # CONFIG_CGROUP_DEBUG is not set
          CONFIG_CGROUP_FREEZER=y
          CONFIG_CGROUP_PIDS=y
          CONFIG_CGROUP_DEVICE=y
          CONFIG_CGROUP_CPUACCT=y
          CONFIG_CGROUP_PERF=y
          CONFIG_CGROUP_SCHED=y
          CONFIG_FAIR_GROUP_SCHED=y
          CONFIG_CFS_BANDWIDTH=y
          CONFIG_RT_GROUP_SCHED=y
          # CONFIG_BLK_CGROUP is not set
          # CONFIG_CHECKPOINT_RESTORE is not set
          CONFIG_NAMESPACES=y
          # CONFIG_UTS_NS is not set
          # CONFIG_IPC_NS is not set
          # CONFIG_USER_NS is not set
          # CONFIG_PID_NS is not set
          # CONFIG_NET_NS is not set
          CONFIG_SCHED_AUTOGROUP=y
          # CONFIG_SYSFS_DEPRECATED is not set
          CONFIG_RELAY=y
          CONFIG_BLK_DEV_INITRD=y
          CONFIG_INITRAMFS_SOURCE=""
          CONFIG_RD_GZIP=y
          CONFIG_RD_BZIP2=y
          CONFIG_RD_LZMA=y
          CONFIG_RD_XZ=y
          CONFIG_RD_LZO=y
          CONFIG_RD_LZ4=y
          # CONFIG_CC_OPTIMIZE_FOR_PERFORMANCE is not set
          CONFIG_CC_OPTIMIZE_FOR_SIZE=y
          CONFIG_SYSCTL=y
          CONFIG_ANON_INODES=y
          CONFIG_HAVE_UID16=y
          CONFIG_BPF=y
          # CONFIG_EXPERT is not set
          CONFIG_UID16=y
          CONFIG_MULTIUSER=y
          # CONFIG_SGETMASK_SYSCALL is not set
          CONFIG_SYSFS_SYSCALL=y
          # CONFIG_SYSCTL_SYSCALL is not set
          CONFIG_POSIX_TIMERS=y
          CONFIG_KALLSYMS=y
          # CONFIG_KALLSYMS_ALL is not set
          CONFIG_PRINTK=y
          CONFIG_BUG=y
          CONFIG_ELF_CORE=y
          CONFIG_BASE_FULL=y
          CONFIG_FUTEX=y
          CONFIG_EPOLL=y
          CONFIG_SIGNALFD=y
          CONFIG_TIMERFD=y
          CONFIG_EVENTFD=y
          # CONFIG_BPF_SYSCALL is not set
          CONFIG_SHMEM=y
          CONFIG_AIO=y
          CONFIG_ADVISE_SYSCALLS=y
          # CONFIG_USERFAULTFD is not set
          CONFIG_PCI_QUIRKS=y
          CONFIG_MEMBARRIER=y
          CONFIG_EMBEDDED=n
          # CONFIG_HAVE_PERF_EVENTS is not set
          
          #
          # Kernel Performance Events And Counters
          #
          # CONFIG_PERF_EVENTS is not set
          # CONFIG_DEBUG_PERF_USE_VMALLOC is not set
          CONFIG_VM_EVENT_COUNTERS=y
          # CONFIG_COMPAT_BRK is not set
          CONFIG_SLAB=y
          # CONFIG_SLUB is not set
          # CONFIG_SLOB is not set
          # CONFIG_SYSTEM_DATA_VERIFICATION is not set
          # CONFIG_PROFILING is not set
          CONFIG_HAVE_OPROFILE=y
          # CONFIG_KPROBES is not set
          # CONFIG_JUMP_LABEL is not set
          # CONFIG_UPROBES is not set
          # CONFIG_HAVE_64BIT_ALIGNED_ACCESS is not set
          CONFIG_HAVE_EFFICIENT_UNALIGNED_ACCESS=y
          CONFIG_ARCH_USE_BUILTIN_BSWAP=y
          CONFIG_HAVE_KPROBES=y
          CONFIG_HAVE_KRETPROBES=y
          CONFIG_HAVE_OPTPROBES=y
          CONFIG_HAVE_ARCH_TRACEHOOK=y
          CONFIG_HAVE_DMA_CONTIGUOUS=y
          CONFIG_GENERIC_SMP_IDLE_THREAD=y
          CONFIG_GENERIC_IDLE_POLL_SETUP=y
          CONFIG_HAVE_REGS_AND_STACK_ACCESS_API=y
          CONFIG_HAVE_CLK=y
          CONFIG_HAVE_DMA_API_DEBUG=y
          CONFIG_HAVE_HW_BREAKPOINT=y
          CONFIG_HAVE_PERF_REGS=y
          CONFIG_HAVE_PERF_USER_STACK_DUMP=y
          CONFIG_HAVE_ARCH_JUMP_LABEL=y
          CONFIG_ARCH_WANT_IPC_PARSE_VERSION=y
          CONFIG_HAVE_ARCH_SECCOMP_FILTER=y
          CONFIG_SECCOMP_FILTER=y
          CONFIG_HAVE_CC_STACKPROTECTOR=y
          # CONFIG_CC_STACKPROTECTOR is not set
          CONFIG_CC_STACKPROTECTOR_NONE=y
          # CONFIG_CC_STACKPROTECTOR_REGULAR is not set
          # CONFIG_CC_STACKPROTECTOR_STRONG is not set
          CONFIG_HAVE_CONTEXT_TRACKING=y
          CONFIG_HAVE_VIRT_CPU_ACCOUNTING_GEN=y
          CONFIG_HAVE_IRQ_TIME_ACCOUNTING=y
          CONFIG_HAVE_ARCH_TRANSPARENT_HUGEPAGE=y
          CONFIG_MODULES_USE_ELF_REL=y
          CONFIG_ARCH_HAS_ELF_RANDOMIZE=y
          CONFIG_HAVE_ARCH_MMAP_RND_BITS=y
          CONFIG_ARCH_MMAP_RND_BITS_MIN=8
          CONFIG_ARCH_MMAP_RND_BITS_MAX=16
          CONFIG_ARCH_MMAP_RND_COMPAT_BITS_MIN=8
          CONFIG_ARCH_MMAP_RND_COMPAT_BITS_MAX=16
          CONFIG_HAVE_COPY_THREAD_TLS=y
          CONFIG_CLONE_BACKWARDS=y
          CONFIG_OLD_SIGSUSPEND3=y
          CONFIG_OLD_SIGACTION=y
          
          #
          # GCOV-based kernel profiling
          #
          # CONFIG_GCOV_KERNEL is not set
          CONFIG_ARCH_HAS_GCOV_PROFILE_ALL=y
          CONFIG_HAVE_GENERIC_DMA_COHERENT=y
          CONFIG_SLABINFO=y
          CONFIG_RT_MUTEXES=y
          CONFIG_BASE_SMALL=0
          CONFIG_MODULES=y
          # CONFIG_MODULE_FORCE_LOAD is not set
          CONFIG_MODULE_UNLOAD=y
          # CONFIG_MODULE_FORCE_UNLOAD is not set
          # CONFIG_MODVERSIONS is not set
          # CONFIG_MODULE_SRCVERSION_ALL is not set
          # CONFIG_MODULE_SIG is not set
          # CONFIG_MODULE_COMPRESS is not set
          CONFIG_BLOCK=y
          CONFIG_LBDAF=y
          # CONFIG_BLK_DEV_BSG is not set
          # CONFIG_BLK_DEV_BSGLIB is not set
          # CONFIG_BLK_DEV_INTEGRITY is not set
          # CONFIG_BLK_CMDLINE_PARSER is not set
          
          #
          # Partition Types
          #
          # CONFIG_PARTITION_ADVANCED is not set
          CONFIG_MSDOS_PARTITION=y
          CONFIG_EFI_PARTITION=y
          
          #
          # IO Schedulers
          #
          CONFIG_IOSCHED_NOOP=y
          # CONFIG_IOSCHED_DEADLINE is not set
          # CONFIG_IOSCHED_CFQ is not set
          CONFIG_DEFAULT_NOOP=y
          CONFIG_DEFAULT_IOSCHED="noop"
          CONFIG_PREEMPT_COUNT=y
          CONFIG_ASN1=y
          CONFIG_UNINLINE_SPIN_UNLOCK=y
          CONFIG_ARCH_SUPPORTS_ATOMIC_RMW=y
          CONFIG_MUTEX_SPIN_ON_OWNER=y
          CONFIG_RWSEM_SPIN_ON_OWNER=y
          CONFIG_LOCK_SPIN_ON_OWNER=y
          CONFIG_FREEZER=y
          
          #
          # System Type
          #
          CONFIG_MMU=y
          CONFIG_ARCH_MULTIPLATFORM=y
          # CONFIG_ARCH_REALVIEW is not set
          # CONFIG_ARCH_VERSATILE is not set
          # CONFIG_ARCH_CLPS711X is not set
          # CONFIG_ARCH_GEMINI is not set
          # CONFIG_ARCH_EBSA110 is not set
          # CONFIG_ARCH_EP93XX is not set
          # CONFIG_ARCH_FOOTBRIDGE is not set
          # CONFIG_ARCH_NETX is not set
          # CONFIG_ARCH_H720X is not set
          # CONFIG_ARCH_IOP13XX is not set
          # CONFIG_ARCH_IOP32X is not set
          # CONFIG_ARCH_IOP33X is not set
          # CONFIG_ARCH_IXP4XX is not set
          # CONFIG_ARCH_DOVE is not set
          # CONFIG_ARCH_ORION5X is not set
          # CONFIG_ARCH_MMP is not set
          # CONFIG_ARCH_KIRKWOOD is not set
          # CONFIG_ARCH_MV78XX0 is not set
          # CONFIG_ARCH_MVEBU is not set
          # CONFIG_ARCH_KS8695 is not set
          # CONFIG_ARCH_W90X900 is not set
          # CONFIG_ARCH_LPC32XX is not set
          # CONFIG_ARCH_PXA is not set
          # CONFIG_ARCH_MSM is not set
          # CONFIG_ARCH_SHMOBILE is not set
          # CONFIG_ARCH_RPC is not set
          # CONFIG_ARCH_SA1100 is not set
          # CONFIG_ARCH_S3C24XX is not set
          # CONFIG_ARCH_S3C64XX is not set
          # CONFIG_ARCH_DAVINCI is not set
          # CONFIG_ARCH_OMAP1 is not set
          
          #
          # Multiple platform selection
          #
          
          #
          # CPU Core family selection
          #
          CONFIG_ARCH_MULTI_V6=y
          CONFIG_ARCH_MULTI_V7=y
          CONFIG_ARCH_MULTI_V6_V7=y
          # CONFIG_ARCH_MULTI_CPU_AUTO is not set
          # CONFIG_ARCH_VIRT is not set
          # CONFIG_ARCH_MX23 is not set
          # CONFIG_ARCH_MX28 is not set
          # CONFIG_ARCH_MX51 is not set
          # CONFIG_ARCH_MX53 is not set
          # CONFIG_ARCH_MXC is not set
          # CONFIG_ARCH_MXS is not set
          # CONFIG_ARCH_SUNXI is not set
          # CONFIG_ARCH_TEGRA is not set
          # CONFIG_ARCH_U8500 is not set
          # CONFIG_ARCH_VEXPRESS is not set
          # CONFIG_ARCH_WM8850 is not set
          # CONFIG_ARCH_KEYSTONE is not set
          # CONFIG_ARCH_ROCKCHIP is not set
          CONFIG_ARCH_ROCKCHIP=y
          
          #
          # Rockchip Implementations
          #
          # CONFIG_ARCH_RK3036 is not set
          # CONFIG_ARCH_RK3066 is not set
          # CONFIG_ARCH_RK3066B is not set
          # CONFIG_ARCH_RK3188 is not set
          # CONFIG_ARCH_RK322X is not set
          # CONFIG_ARCH_RK3288 is not set
          # CONFIG_ARCH_RK3288 is not set
          CONFIG_ARCH_RK312X=y
          
          #
          # Processor Type
          #
          CONFIG_CPU_V7=y
          CONFIG_CPU_32v6K=y
          CONFIG_CPU_32v7=y
          CONFIG_CPU_ABRT_EV7=y
          CONFIG_CPU_PABRT_V7=y
          CONFIG_CPU_CACHE_V7=y
          CONFIG_CPU_CACHE_VIPT=y
          CONFIG_CPU_COPY_V6=y
          CONFIG_CPU_TLB_V7=y
          CONFIG_CPU_HAS_ASID=y
          CONFIG_CPU_CP15=y
          CONFIG_CPU_CP15_MMU=y
          
          #
          # Processor Features
          #
          # CONFIG_ARM_LPAE is not set
          # CONFIG_ARCH_PHYS_ADDR_T_64BIT is not set
          CONFIG_ARM_THUMB=y
          # CONFIG_ARM_THUMBEE is not set
          CONFIG_ARM_VIRT_EXT=y
          CONFIG_SWP_EMULATE=y
          # CONFIG_CPU_ICACHE_DISABLE is not set
          # CONFIG_CPU_DCACHE_DISABLE is not set
          # CONFIG_CPU_BPREDICT_DISABLE is not set
          CONFIG_KUSER_HELPERS=y
          CONFIG_VDSO=y
          CONFIG_OUTER_CACHE=y
          CONFIG_OUTER_CACHE_SYNC=y
          CONFIG_MIGHT_HAVE_CACHE_L2X0=y
          CONFIG_CACHE_L2X0=y
          # CONFIG_CACHE_PL310 is not set
          # CONFIG_CACHE_TAUROS2 is not set
          CONFIG_ARM_L1_CACHE_SHIFT=5
          CONFIG_ARM_DMA_MEM_BUFFERABLE=y
          CONFIG_DEBUG_RODATA=y
          # CONFIG_DEBUG_ALIGN_RODATA is not set
          CONFIG_MULTI_IRQ_HANDLER=y
          CONFIG_ARM_ARCH_TIMER=y
          # CONFIG_ARM_ARCH_TIMER_EVTSTREAM is not set
          # CONFIG_FIQ is not set
          CONFIG_ARM_PSCI=y
          # CONFIG_VMSPLIT_375G is not set
          # CONFIG_VMSPLIT_2G is not set
          # CONFIG_VMSPLIT_1G is not set
          CONFIG_VMSPLIT_3G=y
          CONFIG_PAGE_OFFSET=0xC0000000
          CONFIG_ARCH_NR_GPIO=0
          CONFIG_PREEMPT_NONE=y
          # CONFIG_PREEMPT_VOLUNTARY is not set
          # CONFIG_PREEMPT is not set
          CONFIG_HZ_FIXED=0
          # CONFIG_HZ_100 is not set
          # CONFIG_HZ_200 is not set
          # CONFIG_HZ_250 is not set
          # CONFIG_HZ_300 is not set
          # CONFIG_HZ_500 is not set
          # CONFIG_HZ_1000 is not set
          CONFIG_HZ_1024=y
          CONFIG_HZ=1024
          CONFIG_SCHED_HRTICK=y
          # CONFIG_THUMB2_KERNEL is not set
          CONFIG_ARM_PATCH_IDIV=y
          CONFIG_AEABI=y
          # CONFIG_OABI_COMPAT is not set
          CONFIG_ARCH_HAS_HOLES_MEMORYMODEL=y
          # CONFIG_ARCH_SPARSEMEM_DEFAULT is not set
          # CONFIG_ARCH_SELECT_MEMORY_MODEL is not set
          CONFIG_HAVE_ARCH_PFN_VALID=y
          CONFIG_HIGHMEM=y
          # CONFIG_HIGHPTE is not set
          CONFIG_HW_PERF_EVENTS=y
          CONFIG_ARCH_WANT_GENERAL_HUGETLB=y
          # CONFIG_ARM_MODULE_PLTS is not set
          CONFIG_FLATMEM=y
          CONFIG_FLAT_NODE_MEM_MAP=y
          CONFIG_HAVE_MEMBLOCK=y
          CONFIG_NO_BOOTMEM=y
          CONFIG_MEMORY_ISOLATION=y
          # CONFIG_HAVE_BOOTMEM_INFO_NODE is not set
          CONFIG_PAGEFLAGS_EXTENDED=y
          CONFIG_SPLIT_PTLOCK_CPUS=4
          CONFIG_COMPACTION=y
          CONFIG_MIGRATION=y
          # CONFIG_PHYS_ADDR_T_64BIT is not set
          CONFIG_ZONE_DMA_FLAG=0
          CONFIG_BOUNCE=y
          # CONFIG_KSM is not set
          CONFIG_DEFAULT_MMAP_MIN_ADDR=4096
          CONFIG_ARCH_SUPPORTS_MEMORY_FAILURE=y
          # CONFIG_MEMORY_FAILURE is not set
          # CONFIG_TRANSPARENT_HUGEPAGE is not set
          # CONFIG_CLEANCACHE is not set
          # CONFIG_FRONTSWAP is not set
          # CONFIG_CMA is not set
          # CONFIG_ZPOOL is not set
          # CONFIG_ZBUD is not set
          # CONFIG_ZSMALLOC is not set
          CONFIG_GENERIC_EARLY_IOREMAP=y
          CONFIG_SECCOMP=y
          CONFIG_CC_HAVE_STACKPROTECTOR_TLS=y
          CONFIG_PARAVIRT=y
          # CONFIG_PARAVIRT_TIME_ACCOUNTING is not set
          # CONFIG_XEN is not set
          
          #
          # Boot options
          #
          # CONFIG_ARM_APPENDED_DTB is not set
          CONFIG_ARM_ATAG_DTB_COMPAT=y
          CONFIG_ARM_ATAG_DTB_COMPAT_CMDLINE_FROM_BOOTLOADER=y
          # CONFIG_ARM_ATAG_DTB_COMPAT_CMDLINE_EXTEND is not set
          CONFIG_CMDLINE="console=ttyFIQ0 earlyprintk root=/dev/mmcblk0p3 rootwait"
          # CONFIG_CMDLINE_FORCE is not set
          CONFIG_KEXEC=y
          # CONFIG_CRASH_DUMP is not set
          CONFIG_AUTO_ZRELADDR=y
          
          #
          # CPU Power Management
          #
          
          #
          # CPU Frequency scaling
          #
          # CONFIG_CPU_FREQ is not set
          
          #
          # CPU Idle
          #
          CONFIG_CPU_IDLE=y
          # CONFIG_CPU_IDLE_GOV_LADDER is not set
          CONFIG_CPU_IDLE_GOV_MENU=y
          # CONFIG_ARCH_NEEDS_CPU_IDLE_COUPLED is not set
          
          #
          # Floating point emulation
          #
          
          #
          # At least one emulation must be selected
          #
          CONFIG_FPE_NWFPE=y
          # CONFIG_FPE_NWFPE_XP is not set
          # CONFIG_FPE_FASTFPE is not set
          # CONFIG_VFP is not set
          
          #
          # Userspace binary formats
          #
          CONFIG_BINFMT_ELF=y
          CONFIG_ELF_CORE=y
          # CONFIG_CORE_DUMP_DEFAULT_ELF_HEADERS is not set
          CONFIG_BINFMT_SCRIPT=y
          # CONFIG_HAVE_AOUT is not set
          CONFIG_BINFMT_MISC=y
          # CONFIG_COREDUMP is not set
          
          #
          # Power management options
          #
          # CONFIG_SUSPEND is not set
          # CONFIG_PM is not set
          CONFIG_PM_OPP=y
          # CONFIG_PM_CLK is not set
          CONFIG_ARCH_SUSPEND_POSSIBLE=y
          CONFIG_ARM_CPU_SUSPEND=y
          CONFIG_NET=y
          
          #
          # Networking options
          #
          CONFIG_PACKET=y
          # CONFIG_PACKET_DIAG is not set
          CONFIG_UNIX=y
          # CONFIG_UNIX_DIAG is not set
          CONFIG_XFRM=y
          # CONFIG_XFRM_USER is not set
          # CONFIG_XFRM_SUB_POLICY is not set
          # CONFIG_XFRM_MIGRATE is not set
          # CONFIG_XFRM_STATISTICS is not set
          # CONFIG_NET_KEY is not set
          CONFIG_INET=y
          # CONFIG_IP_MULTICAST is not set
          # CONFIG_IP_ADVANCED_ROUTER is not set
          CONFIG_IP_PNP=y
          # CONFIG_IP_PNP_DHCP is not set
          # CONFIG_IP_PNP_BOOTP is not set
          # CONFIG_IP_PNP_RARP is not set
          # CONFIG_NET_IPIP is not set
          # CONFIG_NET_IPGRE_DEMUX is not set
          # CONFIG_NET_IP_TUNNEL is not set
          # CONFIG_IP_MROUTE is not set
          # CONFIG_SYN_COOKIES is not set
          # CONFIG_NET_IPVTI is not set
          # CONFIG_INET_AH is not set
          # CONFIG_INET_ESP is not set
          # CONFIG_INET_IPCOMP is not set
          # CONFIG_INET_XFRM_TUNNEL is not set
          # CONFIG_INET_TUNNEL is not set
          # CONFIG_INET_XFRM_MODE_TRANSPORT is not set
          # CONFIG_INET_XFRM_MODE_TUNNEL is not set
          # CONFIG_INET_XFRM_MODE_BEET is not set
          # CONFIG_INET_DIAG is not set
          # CONFIG_TCP_CONG_ADVANCED is not set
          CONFIG_TCP_CONG_CUBIC=y
          CONFIG_DEFAULT_TCP_CONG="cubic"
          # CONFIG_TCP_MD5SIG is not set
          # CONFIG_IPV6 is not set
          # CONFIG_NETWORK_SECMARK is not set
          # CONFIG_NET_PTP_CLASSIFY is not set
          # CONFIG_NETWORK_PHY_TIMESTAMPING is not set
          # CONFIG_NETFILTER is not set
          # CONFIG_IP_DCCP is not set
          # CONFIG_IP_SCTP is not set
          # CONFIG_RDS is not set
          # CONFIG_TIPC is not set
          # CONFIG_ATM is not set
          # CONFIG_L2TP is not set
          # CONFIG_BRIDGE is not set
          # CONFIG_HAVE_NET_DSA is not set
          # CONFIG_VLAN_8021Q is not set
          # CONFIG_DECNET is not set
          # CONFIG_LLC2 is not set
          # CONFIG_IPX is not set
          # CONFIG_ATALK is not set
          # CONFIG_X25 is not set
          # CONFIG_LAPB is not set
          # CONFIG_PHONET is not set
          # CONFIG_IEEE802154 is not set
          # CONFIG_NET_SCHED is not set
          # CONFIG_DCB is not set
          # CONFIG_BATMAN_ADV is not set
          # CONFIG_OPENVSWITCH is not set
          # CONFIG_VSOCKETS is not set
          # CONFIG_NETLINK_MMAP is not set
          # CONFIG_NETLINK_DIAG is not set
          # CONFIG_MPLS is not set
          # CONFIG_HSR is not set
          # CONFIG_CGROUP_NET_PRIO is not set
          # CONFIG_NET_RX_BUSY_POLL is not set
          CONFIG_BQL=y
          
          #
          # Network testing
          #
          # CONFIG_NET_PKTGEN is not set
          # CONFIG_HAMRADIO is not set
          # CONFIG_CAN is not set
          # CONFIG_IRDA is not set
          # CONFIG_BT is not set
          # CONFIG_AF_RXRPC is not set
          # CONFIG_WIRELESS is not set
          # CONFIG_WIMAX is not set
          # CONFIG_RFKILL is not set
          # CONFIG_NET_9P is not set
          # CONFIG_CAIF is not set
          # CONFIG_CEPH_LIB is not set
          # CONFIG_NFC is not set
          # CONFIG_LWTUNNEL is not set
          # CONFIG_DST_CACHE is not set
          # CONFIG_MPLS_ROUTING is not set
          # CONFIG_MPLS_IPTUNNEL is not set
          
          #
          # Device Drivers
          #
          
          #
          # Generic Driver Options
          #
          CONFIG_UEVENT_HELPER=y
          CONFIG_UEVENT_HELPER_PATH=""
          CONFIG_DEVTMPFS=y
          # CONFIG_DEVTMPFS_MOUNT is not set
          CONFIG_STANDALONE=y
          CONFIG_PREVENT_FIRMWARE_BUILD=y
          CONFIG_FW_LOADER=y
          # CONFIG_FIRMWARE_IN_KERNEL is not set
          CONFIG_EXTRA_FIRMWARE=""
          # CONFIG_FW_LOADER_USER_HELPER_FALLBACK is not set
          CONFIG_ALLOW_DEV_COREDUMP=y
          # CONFIG_DEBUG_DRIVER is not set
          # CONFIG_DEBUG_DEVRES is not set
          # CONFIG_SYS_HYPERVISOR is not set
          # CONFIG_GENERIC_CPU_DEVICES is not set
          CONFIG_SOC_BUS=y
          CONFIG_REGMAP=y
          CONFIG_REGMAP_I2C=y
          CONFIG_REGMAP_SPI=y
          CONFIG_REGMAP_MMIO=y
          CONFIG_REGMAP_IRQ=y
          CONFIG_DMA_SHARED_BUFFER=y
          # CONFIG_FENCE_TRACE is not set
          # CONFIG_DMA_CMA is not set
          
          #
          # Bus devices
          #
          # CONFIG_ARM_CCI400_PMU is not set
          # CONFIG_ARM_CCN is not set
          # CONFIG_BRCMSTB_GISB_ARB is not set
          # CONFIG_VEXPRESS_CONFIG is not set
          # CONFIG_CONNECTOR is not set
          # CONFIG_MTD is not set
          # CONFIG_OF is not set
          CONFIG_ARCH_MIGHT_HAVE_PC_PARPORT=y
          # CONFIG_PARPORT is not set
          CONFIG_BLK_DEV=y
          # CONFIG_BLK_DEV_NULL_BLK is not set
          # CONFIG_BLK_DEV_FD is not set
          # CONFIG_BLK_DEV_PCIESSD_MTIP32XX is not set
          # CONFIG_BLK_CPQ_CISS_DA is not set
          # CONFIG_BLK_DEV_DAC960 is not set
          # CONFIG_BLK_DEV_UMEM is not set
          # CONFIG_BLK_DEV_COW_COMMON is not set
          CONFIG_BLK_DEV_LOOP=y
          CONFIG_BLK_DEV_LOOP_MIN_COUNT=8
          # CONFIG_BLK_DEV_CRYPTOLOOP is not set
          # CONFIG_BLK_DEV_DRBD is not set
          # CONFIG_BLK_DEV_NBD is not set
          # CONFIG_BLK_DEV_SKD is not set
          # CONFIG_BLK_DEV_SX8 is not set
          # CONFIG_BLK_DEV_RAM is not set
          # CONFIG_CDROM_PKTCDVD is not set
          # CONFIG_ATA_OVER_ETH is not set
          # CONFIG_VIRTIO_BLK is not set
          # CONFIG_BLK_DEV_RSXX is not set
          
          #
          # Misc devices
          #
          # CONFIG_SENSORS_LIS3LV02D is not set
          # CONFIG_AD525X_DPOT is not set
          # CONFIG_DUMMY_IRQ is not set
          # CONFIG_PHANTOM is not set
          # CONFIG_SGI_IOC4 is not set
          # CONFIG_TIFM_CORE is not set
          # CONFIG_ICS932S401 is not set
          # CONFIG_ENCLOSURE_SERVICES is not set
          # CONFIG_HP_ILO is not set
          # CONFIG_APDS9802ALS is not set
          # CONFIG_ISL29003 is not set
          # CONFIG_ISL29020 is not set
          # CONFIG_SENSORS_TSL2550 is not set
          # CONFIG_SENSORS_BH1780 is not set
          # CONFIG_SENSORS_BH1770 is not set
          # CONFIG_SENSORS_APDS990X is not set
          # CONFIG_HMC6352 is not set
          # CONFIG_DS1682 is not set
          # CONFIG_TI_DAC7512 is not set
          # CONFIG_VMWARE_BALLOON is not set
          # CONFIG_BMP085_I2C is not set
          # CONFIG_PCH_PHUB is not set
          # CONFIG_USB_SWITCH_FSA9480 is not set
          # CONFIG_SRAM is not set
          # CONFIG_C2PORT is not set
          
          #
          # EEPROM support
          #
          # CONFIG_EEPROM_AT24 is not set
          # CONFIG_EEPROM_AT25 is not set
          # CONFIG_EEPROM_LEGACY is not set
          # CONFIG_EEPROM_MAX6875 is not set
          # CONFIG_EEPROM_93CX6 is not set
          # CONFIG_CB710_CORE is not set
          
          #
          # Texas Instruments shared transport line discipline
          #
          # CONFIG_TI_ST is not set
          # CONFIG_SENSORS_LIS3_I2C is not set
          
          #
          # Altera FPGA firmware download module
          #
          # CONFIG_ALTERA_STAPL is not set
          # CONFIG_INTEL_MEI is not set
          # CONFIG_INTEL_MEI_ME is not set
          # CONFIG_INTEL_MEI_TXE is not set
          # CONFIG_VMWARE_VMCI is not set
          
          #
          # Intel MIC Bus Driver
          #
          
          #
          # SCIF Bus Driver
          #
          
          #
          # Intel MIC Host Driver
          #
          
          #
          # Intel MIC Card Driver
          #
          
          #
          # Intel MIC Coprocessor State Management (COSM) Drivers
          #
          
          #
          # VOP Driver
          #
          # CONFIG_ECHO is not set
          # CONFIG_CXL_BASE is not set
          # CONFIG_CXL_AFU_DRIVER_OPS is not set
          # CONFIG_CXL_LIB is not set
          CONFIG_HAVE_IDE=y
          # CONFIG_IDE is not set
          
          #
          # SCSI device support
          #
          CONFIG_SCSI_MOD=y
          # CONFIG_RAID_ATTRS is not set
          # CONFIG_SCSI is not set
          # CONFIG_SCSI_DMA is not set
          # CONFIG_SCSI_NETLINK is not set
          # CONFIG_ATA is not set
          # CONFIG_MD is not set
          # CONFIG_TARGET_CORE is not set
          # CONFIG_FUSION is not set
          
          #
          # IEEE 1394 (FireWire) support
          #
          # CONFIG_FIREWIRE is not set
          # CONFIG_FIREWIRE_NOSY is not set
          # CONFIG_I2O is not set
          CONFIG_NETDEVICES=y
          # CONFIG_NET_CORE is not set
          # CONFIG_ARCNET is not set
          # CONFIG_ATM_DRIVERS is not set
          # CONFIG_CAIF_DRIVERS is not set
          # CONFIG_VHOST_NET is not set
          # CONFIG_TUN is not set
          # CONFIG_VETH is not set
          # CONFIG_NLMON is not set
          # CONFIG_ARCNET is not set
          
          #
          # CAIF transport drivers
          #
          
          #
          # Distributed Switch Architecture drivers
          #
          # CONFIG_NET_DSA_MV88E6XXX is not set
          # CONFIG_NET_DSA_MV88E6060 is not set
          # CONFIG_NET_DSA_MV88E6XXX_NEED_PPU is not set
          # CONFIG_NET_DSA_MV88E6131 is not set
          # CONFIG_NET_DSA_MV88E6123_61_65 is not set
          # CONFIG_ETHERNET is not set
          # CONFIG_PHYLIB is not set
          # CONFIG_MICREL_KS8995MA is not set
          # CONFIG_PPP is not set
          # CONFIG_SLIP is not set
          # CONFIG_USB_NET_DRIVERS is not set
          # CONFIG_WLAN is not set
          
          #
          # Enable WiMAX (Networking options) to see the WiMAX drivers
          #
          # CONFIG_WAN is not set
          # CONFIG_ISDN is not set
          
          #
          # Input device support
          #
          CONFIG_INPUT=y
          # CONFIG_INPUT_FF_MEMLESS is not set
          # CONFIG_INPUT_POLLDEV is not set
          # CONFIG_INPUT_SPARSEKMAP is not set
          # CONFIG_INPUT_MATRIXKMAP is not set
          
          #
          # Userland interfaces
          #
          # CONFIG_INPUT_MOUSEDEV is not set
          # CONFIG_INPUT_JOYDEV is not set
          # CONFIG_INPUT_EVDEV is not set
          # CONFIG_INPUT_EVBUG is not set
          
          #
          # Input Device Drivers
          #
          # CONFIG_INPUT_KEYBOARD is not set
          # CONFIG_INPUT_MOUSE is not set
          # CONFIG_INPUT_JOYSTICK is not set
          # CONFIG_INPUT_TABLET is not set
          # CONFIG_INPUT_TOUCHSCREEN is not set
          # CONFIG_INPUT_MISC is not set
          
          #
          # Hardware I/O ports
          #
          # CONFIG_SERIO is not set
          # CONFIG_GAMEPORT is not set
          
          #
          # Character devices
          #
          CONFIG_TTY=y
          CONFIG_VT=y
          CONFIG_CONSOLE_TRANSLATIONS=y
          CONFIG_VT_CONSOLE=y
          CONFIG_VT_CONSOLE_SLEEP=y
          CONFIG_HW_CONSOLE=y
          # CONFIG_VT_HW_CONSOLE_BINDING is not set
          CONFIG_UNIX98_PTYS=y
          # CONFIG_DEVPTS_MULTIPLE_INSTANCES is not set
          # CONFIG_LEGACY_PTYS is not set
          # CONFIG_SERIAL_NONSTANDARD is not set
          # CONFIG_N_GSM is not set
          # CONFIG_TRACE_SINK is not set
          # CONFIG_DEVKMEM is not set
          
          #
          # Serial drivers
          #
          CONFIG_SERIAL_EARLYCON=y
          # CONFIG_SERIAL_8250 is not set
          
          #
          # Non-8250 serial port support
          #
          # CONFIG_SERIAL_AMBA_PL010 is not set
          # CONFIG_SERIAL_AMBA_PL011 is not set
          # CONFIG_SERIAL_MESON is not set
          # CONFIG_SERIAL_SAMSUNG is not set
          # CONFIG_SERIAL_MAX3100 is not set
          # CONFIG_SERIAL_MAX310X is not set
          # CONFIG_SERIAL_UARTLITE is not set
          # CONFIG_SERIAL_SH_SCI is not set
          # CONFIG_SERIAL_CORE is not set
          # CONFIG_SERIAL_SIFIVE is not set
          # CONFIG_SERIAL_SCCNXP is not set
          # CONFIG_SERIAL_SC16IS7XX is not set
          # CONFIG_SERIAL_ALTERA_JTAGUART is not set
          # CONFIG_SERIAL_ALTERA_UART is not set
          # CONFIG_SERIAL_IFX6X60 is not set
          # CONFIG_SERIAL_XILINX_PS_UART is not set
          # CONFIG_SERIAL_ARC is not set
          # CONFIG_SERIAL_RP2 is not set
          # CONFIG_SERIAL_FSL_LPUART is not set
          # CONFIG_TTY_PRINTK is not set
          # CONFIG_HVC_DRIVER is not set
          # CONFIG_IPMI_HANDLER is not set
          # CONFIG_HW_RANDOM is not set
          # CONFIG_R3964 is not set
          # CONFIG_APPLICOM is not set
          # CONFIG_RAW_DRIVER is not set
          # CONFIG_TCG_TPM is not set
          # CONFIG_I2C is not set
          # CONFIG_SPI is not set
          # CONFIG_SPMI is not set
          # CONFIG_HSI is not set
          
          #
          # PPS support
          #
          # CONFIG_PPS is not set
          
          #
          # PPS generators support
          #
          
          #
          # PTP clock support
          #
          # CONFIG_PTP_1588_CLOCK is not set
          
          #
          # Pin controllers
          #
          CONFIG_PINCTRL=y
          # CONFIG_PINCTRL_AMD is not set
          # CONFIG_PINCTRL_SINGLE is not set
          # CONFIG_PINCTRL_SX150X is not set
          # CONFIG_PINCTRL_ROCKCHIP is not set
          # CONFIG_ARCH_HAVE_CUSTOM_GPIO_H is not set
          CONFIG_ARCH_WANT_OPTIONAL_GPIOLIB=y
          CONFIG_GPIO_DEVRES=y
          # CONFIG_GPIOLIB is not set
          # CONFIG_W1 is not set
          # CONFIG_POWER_SUPPLY is not set
          # CONFIG_POWER_RESET is not set
          # CONFIG_POWER_AVS is not set
          # CONFIG_HWMON is not set
          # CONFIG_THERMAL is not set
          # CONFIG_WATCHDOG is not set
          CONFIG_SSB_POSSIBLE=y
          
          #
          # Sonics Silicon Backplane
          #
          # CONFIG_SSB is not set
          CONFIG_BCMA_POSSIBLE=y
          
          #
          # Broadcom specific AMBA
          #
          # CONFIG_BCMA is not set
          
          #
          # Multifunction device drivers
          #
          # CONFIG_MFD_CORE is not set
          # CONFIG_MFD_AS3711 is not set
          # CONFIG_MFD_AS3722 is not set
          # CONFIG_PMIC_ADP5520 is not set
          # CONFIG_MFD_AAT2870_CORE is not set
          # CONFIG_MFD_ATMEL_FLEXCOM is not set
          # CONFIG_MFD_ATMEL_HLCDC is not set
          # CONFIG_MFD_BCM590XX is not set
          # CONFIG_MFD_AXP20X is not set
          # CONFIG_MFD_CROS_EC is not set
          # CONFIG_MFD_DA9063 is not set
          # CONFIG_MFD_DA9150 is not set
          # CONFIG_MFD_MC13XXX is not set
          # CONFIG_MFD_HI6421_PMIC is not set
          # CONFIG_HTC_PASIC3 is not set
          # CONFIG_HTC_I2CPLD is not set
          # CONFIG_INTEL_SOC_PMIC is not set
          # CONFIG_MFD_KEMPLD is not set
          # CONFIG_MFD_88PM800 is not set
          # CONFIG_MFD_88PM805 is not set
          # CONFIG_MFD_88PM860X is not set
          # CONFIG_MFD_MAX14577 is not set
          # CONFIG_MFD_MAX77686 is not set
          # CONFIG_MFD_MAX77693 is not set
          # CONFIG_MFD_MAX8907 is not set
          # CONFIG_MFD_MAX8925 is not set
          # CONFIG_MFD_MAX8997 is not set
          # CONFIG_MFD_MAX8998 is not set
          # CONFIG_MFD_MT6397 is not set
          # CONFIG_MFD_MENF21BMC is not set
          # CONFIG_EZX_PCAP is not set
          # CONFIG_MFD_RETU is not set
          # CONFIG_MFD_PCF50633 is not set
          # CONFIG_MFD_RDC321X is not set
          # CONFIG_MFD_RTSX_PCI is not set
          # CONFIG_MFD_RT5033 is not set
          # CONFIG_MFD_RTSX_USB is not set
          # CONFIG_MFD_RK808 is not set
          # CONFIG_MFD_RN5T618 is not set
          # CONFIG_MFD_SEC_CORE is not set
          # CONFIG_MFD_SI476X_CORE is not set
          # CONFIG_MFD_SM501 is not set
          # CONFIG_MFD_SMSC is not set
          # CONFIG_ABX500_CORE is not set
          # CONFIG_MFD_STMPE is not set
          # CONFIG_MFD_SYSCON is not set
          # CONFIG_MFD_TI_AM335X_TSCADC is not set
          # CONFIG_MFD_LP3943 is not set
          # CONFIG_MFD_LP8788 is not set
          # CONFIG_MFD_PALMAS is not set
          # CONFIG_TPS6105X is not set
          # CONFIG_TPS6507X is not set
          # CONFIG_MFD_TPS65086 is not set
          # CONFIG_MFD_TPS65090 is not set
          # CONFIG_MFD_TPS65217 is not set
          # CONFIG_MFD_TPS65218 is not set
          # CONFIG_MFD_TPS65910 is not set
          # CONFIG_MFD_TPS65912 is not set
          # CONFIG_MFD_TPS80031 is not set
          # CONFIG_TWL4030_CORE is not set
          # CONFIG_TWL6040_CORE is not set
          # CONFIG_MFD_WL1273_CORE is not set
          # CONFIG_MFD_LM3533 is not set
          # CONFIG_MFD_TC3589X is not set
          # CONFIG_MFD_TMIO is not set
          # CONFIG_MFD_VX855 is not set
          # CONFIG_MFD_ARIZONA_I2C is not set
          # CONFIG_MFD_WM8400 is not set
          # CONFIG_MFD_WM831X_I2C is not set
          # CONFIG_MFD_WM8350_I2C is not set
          # CONFIG_MFD_WM8994 is not set
          # CONFIG_REGULATOR is not set
          # CONFIG_MEDIA_SUPPORT is not set
          
          #
          # Graphics support
          #
          # CONFIG_DRM is not set
          # CONFIG_DRM_ROCKCHIP is not set
          # CONFIG_VGASTATE is not set
          # CONFIG_VIDEO_OUTPUT_CONTROL is not set
          # CONFIG_FB is not set
          # CONFIG_BACKLIGHT_LCD_SUPPORT is not set
          
          #
          # Console display driver support
          #
          # CONFIG_VGA_CONSOLE is not set
          CONFIG_DUMMY_CONSOLE=y
          # CONFIG_SOUND is not set
          
          #
          # HID support
          #
          CONFIG_HID=y
          # CONFIG_HID_BATTERY_STRENGTH is not set
          # CONFIG_HIDRAW is not set
          # CONFIG_UHID is not set
          # CONFIG_HID_GENERIC is not set
          
          #
          # Special HID drivers
          #
          # CONFIG_HID_A4TECH is not set
          # CONFIG_HID_ACRUX is not set
          # CONFIG_HID_APPLE is not set
          # CONFIG_HID_AUREAL is not set
          # CONFIG_HID_BELKIN is not set
          # CONFIG_HID_CHERRY is not set
          # CONFIG_HID_CHICONY is not set
          # CONFIG_HID_CP2112 is not set
          # CONFIG_HID_CYPRESS is not set
          # CONFIG_HID_DRAGONRISE is not set
          # CONFIG_HID_EMS_FF is not set
          # CONFIG_HID_ELECOM is not set
          # CONFIG_HID_EZKEY is not set
          # CONFIG_HID_HOLTEK is not set
          # CONFIG_HID_KEYTOUCH is not set
          # CONFIG_HID_KYE is not set
          # CONFIG_HID_UCLOGIC is not set
          # CONFIG_HID_WALTOP is not set
          # CONFIG_HID_GYRATION is not set
          # CONFIG_HID_ICADE is not set
          # CONFIG_HID_TWINHAN is not set
          # CONFIG_HID_KENSINGTON is not set
          # CONFIG_HID_LCPOWER is not set
          # CONFIG_HID_LOGITECH is not set
          # CONFIG_HID_MAGICMOUSE is not set
          # CONFIG_HID_MICROSOFT is not set
          # CONFIG_HID_MONTEREY is not set
          # CONFIG_HID_MULTITOUCH is not set
          # CONFIG_HID_NTRIG is not set
          # CONFIG_HID_ORTEK is not set
          # CONFIG_HID_PANTHERLORD is not set
          # CONFIG_HID_PENMOUNT is not set
          # CONFIG_HID_PETALYNX is not set
          # CONFIG_HID_PICOLCD is not set
          # CONFIG_HID_PLANTRONICS is not set
          # CONFIG_HID_PRIMAX is not set
          # CONFIG_HID_ROCCAT is not set
          # CONFIG_HID_SAITEK is not set
          # CONFIG_HID_SAMSUNG is not set
          # CONFIG_HID_SONY is not set
          # CONFIG_HID_SPEEDLINK is not set
          # CONFIG_HID_STEELSERIES is not set
          # CONFIG_HID_SUNPLUS is not set
          # CONFIG_HID_GREENASIA is not set
          # CONFIG_HID_SMARTJOYPLUS is not set
          # CONFIG_HID_TIVO is not set
          # CONFIG_HID_TOPSEED is not set
          # CONFIG_HID_THRUSTMASTER is not set
          # CONFIG_HID_WACOM is not set
          # CONFIG_HID_WIIMOTE is not set
          # CONFIG_HID_XINMO is not set
          # CONFIG_HID_ZEROPLUS is not set
          # CONFIG_HID_ZYDACRON is not set
          # CONFIG_HID_SENSOR_HUB is not set
          # CONFIG_HID_ALPS is not set
          
          #
          # USB HID support
          #
          CONFIG_USB_HID=y
          # CONFIG_HID_PID is not set
          # CONFIG_USB_HIDDEV is not set
          
          #
          # I2C HID support
          #
          # CONFIG_I2C_HID is not set
          CONFIG_USB_OHCI_LITTLE_ENDIAN=y
          CONFIG_USB_SUPPORT=y
          CONFIG_USB_COMMON=y
          # CONFIG_USB_ARCH_HAS_HCD is not set
          # CONFIG_USB is not set
          # CONFIG_USB_PCI is not set
          # CONFIG_USB_GADGET is not set
          # CONFIG_UWB is not set
          # CONFIG_MMC is not set
          # CONFIG_MEMSTICK is not set
          # CONFIG_NEW_LEDS is not set
          # CONFIG_ACCESSIBILITY is not set
          # CONFIG_EDAC is not set
          CONFIG_RTC_LIB=y
          CONFIG_RTC_CLASS=y
          CONFIG_RTC_HCTOSYS=y
          CONFIG_RTC_SYSTOHC=y
          CONFIG_RTC_HCTOSYS_DEVICE="rtc0"
          # CONFIG_RTC_DEBUG is not set
          
          #
          # RTC interfaces
          #
          CONFIG_RTC_INTF_SYSFS=y
          CONFIG_RTC_INTF_PROC=y
          CONFIG_RTC_INTF_DEV=y
          # CONFIG_RTC_INTF_DEV_UIE_EMUL is not set
          # CONFIG_RTC_DRV_TEST is not set
          
          #
          # I2C RTC drivers
          #
          # CONFIG_RTC_DRV_DS1307 is not set
          # CONFIG_RTC_DRV_DS1374 is not set
          # CONFIG_RTC_DRV_DS1672 is not set
          # CONFIG_RTC_DRV_DS3232 is not set
          # CONFIG_RTC_DRV_HYM8563 is not set
          # CONFIG_RTC_DRV_MAX6900 is not set
          # CONFIG_RTC_DRV_RS5C372 is not set
          # CONFIG_RTC_DRV_ISL1208 is not set
          # CONFIG_RTC_DRV_ISL12022 is not set
          # CONFIG_RTC_DRV_X1205 is not set
          # CONFIG_RTC_DRV_PCF2127 is not set
          # CONFIG_RTC_DRV_PCF8523 is not set
          # CONFIG_RTC_DRV_PCF8563 is not set
          # CONFIG_RTC_DRV_PCF8583 is not set
          # CONFIG_RTC_DRV_M41T80 is not set
          # CONFIG_RTC_DRV_BQ32K is not set
          # CONFIG_RTC_DRV_S35390A is not set
          # CONFIG_RTC_DRV_FM3130 is not set
          # CONFIG_RTC_DRV_RX8581 is not set
          # CONFIG_RTC_DRV_RX8025 is not set
          # CONFIG_RTC_DRV_EM3027 is not set
          # CONFIG_RTC_DRV_RV3029C2 is not set
          
          #
          # SPI RTC drivers
          #
          
          #
          # Platform RTC drivers
          #
          # CONFIG_RTC_DRV_CMOS is not set
          # CONFIG_RTC_DRV_DS1286 is not set
          # CONFIG_RTC_DRV_DS1511 is not set
          # CONFIG_RTC_DRV_DS1553 is not set
          # CONFIG_RTC_DRV_DS1742 is not set
          # CONFIG_RTC_DRV_DA9055 is not set
          # CONFIG_RTC_DRV_DA9063 is not set
          # CONFIG_RTC_DRV_STK17TA8 is not set
          # CONFIG_RTC_DRV_M48T86 is not set
          # CONFIG_RTC_DRV_M48T35 is not set
          # CONFIG_RTC_DRV_M48T59 is not set
          # CONFIG_RTC_DRV_MSM6242 is not set
          # CONFIG_RTC_DRV_BQ4802 is not set
          # CONFIG_RTC_DRV_RP5C01 is not set
          # CONFIG_RTC_DRV_V3020 is not set
          # CONFIG_RTC_DRV_ZYNQMP is not set
          
          #
          # on-CPU RTC drivers
          #
          # CONFIG_RTC_DRV_PL030 is not set
          # CONFIG_RTC_DRV_PL031 is not set
          # CONFIG_RTC_DRV_SNVS is not set
          # CONFIG_RTC_DRV_RK808 is not set
          # CONFIG_RTC_DRV_MXC is not set
          # CONFIG_RTC_DRV_MXC_V2 is not set
          # CONFIG_RTC_DRV_R730 is not set
          
          #
          # HID Sensor RTC drivers
          #
          # CONFIG_RTC_DRV_HID_SENSOR_TIME is not set
          # CONFIG_DMADEVICES is not set
          
          #
          # DMADEVICES
          #
          # CONFIG_DMADEVICES is not set
          
          #
          # DMA Devices
          #
          # CONFIG_DMA_ENGINE is not set
          # CONFIG_DW_DMAC is not set
          # CONFIG_DW_DMAC_PCI is not set
          # CONFIG_FSL_EDMA is not set
          # CONFIG_INTEL_IDMA64 is not set
          # CONFIG_PLX_DMA is not set
          # CONFIG_QCOM_BAM_DMA is not set
          # CONFIG_SIRF_DMA is not set
          # CONFIG_TI_EDMA is not set
          # CONFIG_VIRT_DMA is not set
          
          #
          # DMA Clients
          #
          # CONFIG_ASYNC_TX_DMA is not set
          # CONFIG_DMATEST is not set
          # CONFIG_AUXDISPLAY is not set
          # CONFIG_UIO is not set
          # CONFIG_VFIO is not set
          # CONFIG_VIRT_DRIVERS is not set
          # CONFIG_VIRTIO is not set
          
          #
          # Microsoft Hyper-V guest support
          #
          # CONFIG_STAGING is not set
          # CONFIG_CHROME_PLATFORMS is not set
          # CONFIG_MELLANOX_PLATFORM is not set
          CONFIG_CLKDEV_LOOKUP=y
          CONFIG_HAVE_CLK_PREPARE=y
          CONFIG_COMMON_CLK=y
          
          #
          # Common Clock Framework
          #
          # CONFIG_COMMON_CLK_SI5351 is not set
          # CONFIG_COMMON_CLK_SI570 is not set
          # CONFIG_COMMON_CLK_CDCE706 is not set
          # CONFIG_COMMON_CLK_CDCE925 is not set
          # CONFIG_COMMON_CLK_CS2000_CP is not set
          # CONFIG_CLK_RK808 is not set
          # CONFIG_COMMON_CLK_S2MPS11 is not set
          # CONFIG_COMMON_CLK_PALMAS is not set
          # CONFIG_COMMON_CLK_PWM is not set
          # CONFIG_COMMON_CLK_PXA is not set
          # CONFIG_COMMON_CLK_OXNAS is not set
          # CONFIG_COMMON_CLK_VC5 is not set
          # CONFIG_HWSPINLOCK is not set
          
          #
          # Clock Source drivers
          #
          CONFIG_CLKSRC_OF=y
          CONFIG_CLKSRC_PROBE=y
          CONFIG_CLKSRC_MMIO=y
          CONFIG_ROCKCHIP_TIMER=y
          CONFIG_ARM_ARCH_TIMER=y
          CONFIG_ARM_ARCH_TIMER_EVTSTREAM=y
          # CONFIG_FSL_ERRATUM_A008585 is not set
          # CONFIG_HISILICON_ERRATUM_161010101 is not set
          # CONFIG_ARM64_ERRATUM_858921 is not set
          # CONFIG_MAILBOX is not set
          # CONFIG_IOMMU_SUPPORT is not set
          
          #
          # Remoteproc drivers
          #
          # CONFIG_REMOTEPROC is not set
          
          #
          # Rpmsg drivers
          #
          # CONFIG_RPMSG is not set
          
          #
          # SOC (System On Chip) specific Drivers
          #
          # CONFIG_ROCKCHIP_PM_DOMAINS is not set
          # CONFIG_SOC_TI is not set
          # CONFIG_PM_DEVFREQ is not set
          # CONFIG_EXTCON is not set
          # CONFIG_MEMORY is not set
          # CONFIG_IIO is not set
          # CONFIG_PWM is not set
          # CONFIG_IRQCHIP is not set
          # CONFIG_IPACK_BUS is not set
          # CONFIG_RESET_CONTROLLER is not set
          # CONFIG_FMC is not set
          
          #
          # PHY Subsystem
          #
          # CONFIG_GENERIC_PHY is not set
          # CONFIG_PHY_ROCKCHIP_DP is not set
          # CONFIG_PHY_ROCKCHIP_USB is not set
          # CONFIG_PHY_ROCKCHIP_SATA is not set
          # CONFIG_PHY_ROCKCHIP_PCIE is not set
          # CONFIG_PHY_ROCKCHIP_TYPEC is not set
          # CONFIG_BCM_KONA_USB2_PHY is not set
          # CONFIG_PHY_SAMSUNG_USB2 is not set
          # CONFIG_PHY_PXA_28NM_HSIC is not set
          # CONFIG_PHY_PXA_28NM_USB2 is not set
          # CONFIG_PHY_ROCKCHIP_INNO_USB2 is not set
          # CONFIG_PHY_ROCKCHIP_EMMC is not set
          # CONFIG_POWERCAP is not set
          # CONFIG_MCB is not set
          
          #
          # Performance monitor support
          #
          # CONFIG_ARM_CCN is not set
          # CONFIG_THUNDERBOLT is not set
          
          #
          # File systems
          #
          # CONFIG_EXT2_FS is not set
          # CONFIG_EXT3_FS is not set
          CONFIG_EXT4_FS=y
          # CONFIG_EXT4_FS_POSIX_ACL is not set
          # CONFIG_EXT4_FS_SECURITY is not set
          # CONFIG_EXT4_ENCRYPTION is not set
          # CONFIG_EXT4_DEBUG is not set
          CONFIG_JBD2=y
          # CONFIG_JBD2_DEBUG is not set
          CONFIG_FS_MBCACHE=y
          # CONFIG_REISERFS_FS is not set
          # CONFIG_JFS_FS is not set
          # CONFIG_XFS_FS is not set
          # CONFIG_GFS2_FS is not set
          # CONFIG_OCFS2_FS is not set
          CONFIG_BTRFS_FS=n         # 关键：明确禁用 BTRFS
          # CONFIG_BTRFS_FS_POSIX_ACL is not set
          # CONFIG_BTRFS_FS_CHECK_INTEGRITY is not set
          # CONFIG_BTRFS_FS_RUN_SANITY_TESTS is not set
          # CONFIG_BTRFS_DEBUG is not set
          # CONFIG_BTRFS_ASSERT is not set
          # CONFIG_NILFS2_FS is not set
          # CONFIG_F2FS_FS is not set
          # CONFIG_FS_DAX is not set
          CONFIG_FS_POSIX_ACL=y
          CONFIG_EXPORTFS=y
          # CONFIG_EXPORTFS_BLOCK_OPS is not set
          CONFIG_FILE_LOCKING=y
          CONFIG_FSNOTIFY=y
          # CONFIG_DNOTIFY is not set
          # CONFIG_INOTIFY_USER is not set
          # CONFIG_FANOTIFY is not set
          # CONFIG_QUOTA is not set
          # CONFIG_QUOTACTL is not set
          # CONFIG_AUTOFS4_FS is not set
          # CONFIG_FUSE_FS is not set
          
          #
          # Caches
          #
          # CONFIG_FSCACHE is not set
          
          #
          # CD-ROM/DVD Filesystems
          #
          # CONFIG_ISO9660_FS is not set
          # CONFIG_UDF_FS is not set
          
          #
          # DOS/FAT/NT Filesystems
          #
          # CONFIG_MSDOS_FS is not set
          # CONFIG_VFAT_FS is not set
          # CONFIG_NTFS_FS is not set
          
          #
          # Pseudo filesystems
          #
          CONFIG_PROC_FS=y
          # CONFIG_PROC_KCORE is not set
          CONFIG_PROC_SYSCTL=y
          CONFIG_PROC_PAGE_MONITOR=y
          # CONFIG_PROC_CHILDREN is not set
          CONFIG_KERNFS=y
          CONFIG_SYSFS=y
          CONFIG_TMPFS=y
          # CONFIG_TMPFS_POSIX_ACL is not set
          # CONFIG_TMPFS_XATTR is not set
          # CONFIG_HUGETLBFS is not set
          # CONFIG_HUGETLB_PAGE is not set
          CONFIG_CONFIGFS_FS=y
          # CONFIG_MISC_FILESYSTEMS is not set
          # CONFIG_NETWORK_FILESYSTEMS is not set
          
          #
          # Partition Types
          #
          # CONFIG_PARTITION_ADVANCED is not set
          CONFIG_MSDOS_PARTITION=y
          CONFIG_EFI_PARTITION=y
          CONFIG_NLS=y
          CONFIG_NLS_DEFAULT="iso8859-1"
          # CONFIG_NLS_CODEPAGE_437 is not set
          # CONFIG_NLS_CODEPAGE_737 is not set
          # CONFIG_NLS_CODEPAGE_775 is not set
          # CONFIG_NLS_CODEPAGE_850 is not set
          # CONFIG_NLS_CODEPAGE_852 is not set
          # CONFIG_NLS_CODEPAGE_855 is not set
          # CONFIG_NLS_CODEPAGE_857 is not set
          # CONFIG_NLS_CODEPAGE_860 is not set
          # CONFIG_NLS_CODEPAGE_861 is not set
          # CONFIG_NLS_CODEPAGE_862 is not set
          # CONFIG_NLS_CODEPAGE_863 is not set
          # CONFIG_NLS_CODEPAGE_864 is not set
          # CONFIG_NLS_CODEPAGE_865 is not set
          # CONFIG_NLS_CODEPAGE_866 is not set
          # CONFIG_NLS_CODEPAGE_869 is not set
          # CONFIG_NLS_CODEPAGE_936 is not set
          # CONFIG_NLS_CODEPAGE_950 is not set
          # CONFIG_NLS_CODEPAGE_932 is not set
          # CONFIG_NLS_CODEPAGE_949 is not set
          # CONFIG_NLS_CODEPAGE_874 is not set
          # CONFIG_NLS_ISO8859_8 is not set
          # CONFIG_NLS_CODEPAGE_1250 is not set
          # CONFIG_NLS_CODEPAGE_1251 is not set
          # CONFIG_NLS_ASCII is not set
          # CONFIG_NLS_ISO8859_1 is not set
          # CONFIG_NLS_ISO8859_2 is not set
          # CONFIG_NLS_ISO8859_3 is not set
          # CONFIG_NLS_ISO8859_4 is not set
          # CONFIG_NLS_ISO8859_5 is not set
          # CONFIG_NLS_ISO8859_6 is not set
          # CONFIG_NLS_ISO8859_7 is not set
          # CONFIG_NLS_ISO8859_9 is not set
          # CONFIG_NLS_ISO8859_13 is not set
          # CONFIG_NLS_ISO8859_14 is not set
          # CONFIG_NLS_ISO8859_15 is not set
          # CONFIG_NLS_KOI8_R is not set
          # CONFIG_NLS_KOI8_U is not set
          # CONFIG_NLS_MAC_ROMAN is not set
          # CONFIG_NLS_MAC_CELTIC is not set
          # CONFIG_NLS_MAC_CENTEURO is not set
          # CONFIG_NLS_MAC_CROATIAN is not set
          # CONFIG_NLS_MAC_CYRILLIC is not set
          # CONFIG_NLS_MAC_GAELIC is not set
          # CONFIG_NLS_MAC_GREEK is not set
          # CONFIG_NLS_MAC_ICELAND is not set
          # CONFIG_NLS_MAC_INUIT is not set
          # CONFIG_NLS_MAC_ROMANIAN is not set
          # CONFIG_NLS_MAC_TURKISH is not set
          # CONFIG_NLS_UTF8 is not set
          
          #
          # Kernel hacking
          #
          
          #
          # printk and dmesg options
          #
          CONFIG_PRINTK_TIME=y
          CONFIG_MESSAGE_LOGLEVEL_DEFAULT=4
          # CONFIG_BOOT_PRINTK_DELAY is not set
          # CONFIG_DYNAMIC_DEBUG is not set
          
          #
          # Compile-time checks and compiler options
          #
          # CONFIG_DEBUG_INFO is not set
          CONFIG_ENABLE_WARN_DEPRECATED=y
          CONFIG_ENABLE_MUST_CHECK=y
          CONFIG_FRAME_WARN=1024
          # CONFIG_STRIP_ASM_SYMS is not set
          # CONFIG_READABLE_ASM is not set
          # CONFIG_UNUSED_SYMBOLS is not set
          # CONFIG_PAGE_OWNER is not set
          CONFIG_DEBUG_FS=y
          # CONFIG_HEADERS_CHECK is not set
          # CONFIG_DEBUG_SECTION_MISMATCH is not set
          CONFIG_SECTION_MISMATCH_WARN_ONLY=y
          CONFIG_ARCH_WANT_FRAME_POINTERS=y
          CONFIG_FRAME_POINTER=y
          # CONFIG_DEBUG_FORCE_WEAK_PER_CPU is not set
          CONFIG_MAGIC_SYSRQ=y
          CONFIG_MAGIC_SYSRQ_DEFAULT_ENABLE=0x1
          CONFIG_DEBUG_KERNEL=y
          
          #
          # Memory Debugging
          #
          # CONFIG_PAGE_EXTENSION is not set
          # CONFIG_DEBUG_PAGEALLOC is not set
          # CONFIG_DEBUG_OBJECTS is not set
          # CONFIG_DEBUG_SLAB is not set
          # CONFIG_DEBUG_KMEMLEAK is not set
          # CONFIG_DEBUG_STACK_USAGE is not set
          # CONFIG_DEBUG_VM is not set
          # CONFIG_DEBUG_VM_VMACACHE is not set
          # CONFIG_DEBUG_VM_RB is not set
          # CONFIG_DEBUG_VIRTUAL is not set
          # CONFIG_DEBUG_MEMORY_INIT is not set
          # CONFIG_DEBUG_PER_CPU_MAPS is not set
          CONFIG_HAVE_DEBUG_STACKOVERFLOW=y
          # CONFIG_DEBUG_STACKOVERFLOW is not set
          CONFIG_HAVE_ARCH_KASAN=y
          # CONFIG_KASAN is not set
          # CONFIG_DEBUG_SHIRQ is not set
          
          #
          # Debug Lockups and Hangs
          #
          # CONFIG_LOCKUP_DETECTOR is not set
          # CONFIG_DETECT_HUNG_TASK is not set
          # CONFIG_WQ_WATCHDOG is not set
          # CONFIG_PANIC_ON_OOPS is not set
          CONFIG_PANIC_ON_OOPS_VALUE=0
          CONFIG_PANIC_TIMEOUT=0
          # CONFIG_SCHED_DEBUG is not set
          CONFIG_SCHED_INFO=y
          # CONFIG_SCHEDSTATS is not set
          # CONFIG_SCHED_STACK_END_CHECK is not set
          # CONFIG_DEBUG_TIMEKEEPING is not set
          # CONFIG_TIMER_STATS is not set
          
          #
          # Lock Debugging (spinlocks, mutexes, etc...)
          #
          # CONFIG_DEBUG_RT_MUTEXES is not set
          # CONFIG_DEBUG_SPINLOCK is not set
          # CONFIG_DEBUG_MUTEXES is not set
          # CONFIG_DEBUG_WW_MUTEX_SLOWPATH is not set
          # CONFIG_DEBUG_LOCK_ALLOC is not set
          # CONFIG_PROVE_LOCKING is not set
          # CONFIG_LOCK_STAT is not set
          # CONFIG_DEBUG_ATOMIC_SLEEP is not set
          # CONFIG_DEBUG_LOCKING_API_SELFTESTS is not set
          # CONFIG_LOCK_TORTURE_TEST is not set
          # CONFIG_STACKTRACE is not set
          # CONFIG_DEBUG_KOBJECT is not set
          # CONFIG_DEBUG_BUGVERBOSE is not set
          # CONFIG_DEBUG_WRITECOUNT is not set
          # CONFIG_DEBUG_LIST is not set
          # CONFIG_DEBUG_PI_LIST is not set
          # CONFIG_DEBUG_SG is not set
          # CONFIG_DEBUG_NOTIFIERS is not set
          # CONFIG_DEBUG_CREDENTIALS is not set
          
          #
          # RCU Debugging
          #
          # CONFIG_PROVE_RCU is not set
          # CONFIG_SPARSE_RCU_POINTER is not set
          # CONFIG_TORTURE_TEST is not set
          # CONFIG_RCU_TORTURE_TEST is not set
          # CONFIG_RCU_TRACE is not set
          # CONFIG_RCU_EQS_DEBUG is not set
          # CONFIG_DEBUG_WQ_FORCE_RR_CPU is not set
          # CONFIG_DEBUG_BLOCK_EXT_DEVT is not set
          # CONFIG_NOTIFIER_ERROR_INJECTION is not set
          # CONFIG_FAULT_INJECTION is not set
          # CONFIG_LATENCYTOP is not set
          # CONFIG_DEBUG_PM is not set
          # CONFIG_DEBUG_IRQFLAGS is not set
          CONFIG_USER_STACKTRACE_SUPPORT=y
          CONFIG_NOP_TRACER=y
          CONFIG_HAVE_FUNCTION_TRACER=y
          CONFIG_HAVE_FUNCTION_GRAPH_TRACER=y
          CONFIG_HAVE_DYNAMIC_FTRACE=y
          CONFIG_HAVE_FTRACE_MCOUNT_RECORD=y
          CONFIG_HAVE_SYSCALL_TRACEPOINTS=y
          CONFIG_HAVE_C_RECORDMCOUNT=y
          CONFIG_TRACING_SUPPORT=y
          # CONFIG_FTRACE is not set
          
          #
          # Runtime Testing
          #
          # CONFIG_TEST_LIST_SORT is not set
          # CONFIG_TEST_SORT is not set
          # CONFIG_KPROBES_SANITY_TEST is not set
          # CONFIG_BACKTRACE_SELF_TEST is not set
          # CONFIG_RBTREE_TEST is not set
          # CONFIG_INTERVAL_TREE_TEST is not set
          # CONFIG_PERCPU_TEST is not set
          # CONFIG_ATOMIC64_SELFTEST is not set
          # CONFIG_ASYNC_RAID6_TEST is not set
          # CONFIG_TEST_HEXDUMP is not set
          # CONFIG_TEST_STRING_HELPERS is not set
          # CONFIG_TEST_KSTRTOX is not set
          # CONFIG_TEST_PRINTF is not set
          # CONFIG_TEST_RHASHTABLE is not set
          # CONFIG_TEST_HASH is not set
          # CONFIG_DMA_API_DEBUG is not set
          # CONFIG_TEST_LKM is not set
          # CONFIG_TEST_USER_COPY is not set
          # CONFIG_TEST_BPF is not set
          # CONFIG_TEST_FIRMWARE is not set
          # CONFIG_TEST_UDELAY is not set
          # CONFIG_TEST_STATIC_KEYS is not set
          # CONFIG_TEST_KMOD is not set
          # CONFIG_MEMTEST is not set
          # CONFIG_BUG_ON_DATA_CORRUPTION is not set
          # CONFIG_SAMPLES is not set
          CONFIG_HAVE_ARCH_KGDB=y
          # CONFIG_KGDB is not set
          # CONFIG_ARM_UNWIND is not set
          # CONFIG_DEBUG_USER is not set
          # CONFIG_DEBUG_LL is not set
          # CONFIG_DEBUG_LL_UART_8250 is not set
          # CONFIG_DEBUG_LL_UART_PL01X is not set
          # CONFIG_DEBUG_LL_UART_NONE is not set
          # CONFIG_DEBUG_LL_INCLUDE is not set
          # CONFIG_DEBUG_LL_UART is not set
          # CONFIG_DEBUG_LL_UART_8250 is not set
          # CONFIG_DEBUG_LL_UART_PL01X is not set
          # CONFIG_DEBUG_LL_UART_NONE is not set
          # CONFIG_DEBUG_ICEDCC is not set
          # CONFIG_DEBUG_SEMIHOSTING is not set
          # CONFIG_DEBUG_ALIGN_RODATA is not set
          # CONFIG_ARM_KPROBES_TEST is not set
          # CONFIG_CORESIGHT is not set
          EOF
          echo "✅ Complete kernel config created at userpatches/config/kernel/linux-rk3128-legacy.config"
          echo "（此配置文件非常长，已在日志中省略显示，但已成功创建）"
          ls -la userpatches/config/kernel/linux-rk3128-legacy.config
          echo ""

          echo "===== 5. Copying configs to official paths ====="
          mkdir -p config/boards config/sources/families config/kernel
          cp userpatches/boards/rk3128-box.conf config/boards/
          cp userpatches/config/sources/families/rk3128.conf config/sources/families/
          cp userpatches/config/kernel/linux-rk3128-legacy.config config/kernel/
          echo "✅ Configs copied."
          ls -la config/boards/ config/sources/families/ config/kernel/
          echo ""

          echo "===== 6. Final verification ====="
          echo "Board config: $(cat config/boards/rk3128-box.conf 2>/dev/null | head -3)"
          echo "Family config: $(cat config/sources/families/rk3128.conf 2>/dev/null | head -3)"
          echo "Kernel config (check for BTRFS line):"
          grep "CONFIG_BTRFS_FS" config/kernel/linux-rk3128-legacy.config 2>/dev/null || echo "BTRFS line not found"
          echo ""

      - name: Install dependencies
        run: sudo apt-get update && sudo apt-get install -y qemu-user-static binfmt-support debootstrap device-tree-compiler pv bc build-essential git dosfstools uuid-runtime udev kmod cpio

      - name: Clean cache
        working-directory: armbian-build
        run: rm -rf output/cache

      - name: Build Armbian
        working-directory: armbian-build
        env:
          BOARD: rk3128-box
          BRANCH: legacy
          RELEASE: bullseye
          BUILD_MINIMAL: no
          BUILD_DESKTOP: no
          KERNEL_CONFIGURE: no
          COMPRESS_OUTPUTIMAGE: sha,img
          ARCH: armhf
          USERPATCHES_PATH: ./userpatches
          IGNORE_UPDATES: yes
        run: ./compile.sh BOARD=$BOARD BRANCH=$BRANCH RELEASE=$RELEASE BUILD_MINIMAL=$BUILD_MINIMAL BUILD_DESKTOP=$BUILD_DESKTOP KERNEL_CONFIGURE=$KERNEL_CONFIGURE COMPRESS_OUTPUTIMAGE=$COMPRESS_OUTPUTIMAGE ARCH=$ARCH

      - name: Upload firmware
        uses: actions/upload-artifact@v4
        with:
          name: armbian-rk3128-printserver
          path: armbian-build/output/images/*.img
          retention-days: 7
